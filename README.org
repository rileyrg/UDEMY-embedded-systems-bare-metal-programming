#+TITLE: embedded system bare metal programming course
#+LANGUAGE: en
#+AUTHOR: rileyrg
#+EMAIL: rileyrg at g m x dot de

#+LANGUAGE: en
#+STARTUP: showall

#+EXPORT_FILE_NAME: README.md
#+OPTIONS: toc:8 num:nil

#+category: embedded
#+FILETAGS: :stm32:embedded:stm32f030r8:

#+STARTUP: overview

#+OPTIONS: toc:nil
#+OPTIONS: ^:nil

# don't export trees tagged with:
#+EXCLUDE_TAGS: tasklist noexport broken
# do not export any sections marked as tasks unless TODO or DONE
#+OPTIONS: tasks:("TODO" "DONE")
# do not include task keywords in export
#+OPTIONS: todo:nil

* Udemy Course
https://www.udemy.com/course/embedded-systems-bare-metal-programming/learn/lecture/26702490#overview

* ST Docs

** reference manual
[[file:stm32f030r8-reference-manual.pdf]]

** datasheet
:PROPERTIES:
:ID:       3385b184-e5e1-4a8d-a3ee-a5816905e557
:END:
[[file:stm32f030r8-datasheet.pdf]]

** userguide
:PROPERTIES:
:ID:       3a8fe118-1ad1-430c-b037-7b0bb4bb0906
:END:
[[file:nucleo-stm32f030r8-userguide.pdf]]

* [[file:0-led-toggle-addr/][0-led-toggle-addr]]

** locate led

[[https://www.udemy.com/course/embedded-systems-bare-metal-programming/learn/lecture/26702988#questions][video]]

*** port and pin

Need to reference [[id:3a8fe118-1ad1-430c-b037-7b0bb4bb0906][user guide]].

#+begin_quote
User LD2: the green LED is a user LED connected to ARDUINO Â® signal D13 corresponding
to STM32 I/O PA5 (pin 21)
#+end_quote

** defining address of modules

[[https://www.udemy.com/course/embedded-systems-bare-metal-programming/learn/lecture/26702598#questions][video]]

Refer to the [[id:3385b184-e5e1-4a8d-a3ee-a5816905e557][datasheet]].

Search for memory mapping. Peripherals.

#+begin_quote
memory range : x4000 0000-0x4800 17ff
#+end_quote

#+begin_src c
  #define PERIPH_BASE 0x40000000ul
#+end_src

Now need to look at the rehister boundary address tables.

Here we see that the different peripherals are on different buses.
The BLOCK DIAGRAM depicts these buses.

#+begin_quote
APB: Advanced Peripheral Bus
AHB: Advanced High Performance Bus
#+end_quote

We see GPIO PORT A is connected to AHB.

Below the memory map, you'll see a table depicting the boundary addresses.

|------+---------------------------+------+------------|
| Bus  | Boundary Address          | Size | Peripheral |
|------+---------------------------+------+------------|
| AHB2 | 0x4800 0000 - 0x4800 03FF | 1KB  | GPIOA      |
|------+---------------------------+------+------------|
